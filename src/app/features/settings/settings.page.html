<ion-header>
  <ion-toolbar>
    <ion-title>Einstellungen</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div
    *ngIf="user$ | async as user"
    style="
      display: flex;
      align-items: center;
      margin: 2rem;
      flex-direction: column;
      gap: 1rem;
    "
  >
    <ion-avatar>
      <img [src]="user | photoUrl:user.email" alt="user-profile-picture" />
    </ion-avatar>
    <p>{{user.displayName }}</p>
    <p>{{user.email}}</p>
  </div>
  <ion-list>
    <ion-item lines="full" [routerLink]="'/settings/profile'">
      <ion-label>Profil bearbeiten</ion-label>
      <ion-icon slot="end" name="chevron-forward ios-hide"></ion-icon>
    </ion-item>
    <ion-item lines="full" [routerLink]="'/settings/info'">
      <ion-label>Info</ion-label>
      <ion-icon slot="end" name="chevron-forward ios-hide"></ion-icon>
    </ion-item>
    <ion-item lines="full">
      <ion-icon slot="start" name="moon"></ion-icon>
      <ion-label> Dunkles Design </ion-label>
      <ion-toggle
        id="themeToggle"
        slot="end"
        (ionChange)="toggleTheme($event)"
        [checked]="isDarkMode"
      ></ion-toggle>
    </ion-item>
  </ion-list>
  <ion-button (click)="getToken()" expand="block" style="margin-top: 2rem"
    >Get Device Token</ion-button
  >
  <ion-button
    (click)="deleteToken()"
    color="danger"
    expand="block"
    style="margin-top: 2rem"
    >Delete Device Token</ion-button
  >
  <ion-button
    (click)="signOut()"
    color="danger"
    expand="block"
    style="margin-top: 2rem"
    >Sign Out</ion-button
  >
</ion-content>
